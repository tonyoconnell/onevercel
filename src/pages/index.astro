---
import Layout from "../layouts/Layout.astro";
import { ChatConfigSchema } from "../schema/chat";
import { Card } from "@/components/ui/card";
import { CheckIcon } from "@radix-ui/react-icons";
import { GitSection } from "@/components/GitSection";
import FaqAccordion from "../components/FaqAccordion";

// Import license content
import License from "../../LICENSE?raw";

const SYSTEM_REQUIREMENTS = [
  "Node.js 18.x or higher",
  "pnpm package manager",
  "Modern web browser (Chrome, Firefox, Safari, Edge)",
  "Any modern operating system (Windows, macOS, Linux)",
  "Deploy on Vercel, Netlify, AWS or any Node.js server",
];

const INSTALLATION_STEPS = [
  {
    title: "Download the Source",
    description: "Download the ZIP file or clone the repository using Git",
  },
  {
    title: "Install Dependencies",
    description: "Run 'pnpm install' to install required packages",
  },
  {
    title: "Configuration",
    description: "Set up your environment variables following the .env.example",
  },
  {
    title: "Start Development",
    description: "Run 'pnpm dev' to start the development server",
  },
];

const faqs = [
  // Core Features
  {
    question: "What can I build with ONE?",
    answer:
      "ONE enables you to build complete AI-powered businesses. It's perfect for building 1) AI Sales Agents that engage customers and close deals 24/7 2) Multi-channel Content Generation for blogs, social media, and marketing 3) Full E-commerce with crypto and traditional payments 4) Courses and digital products.",
  },

  // Payments
  {
    question: "What payment methods are supported?",
    answer:
      "ONE makes it easy for you to accept all major payment methods through Stripe:\n‚Ä¢ Credit/Debit Cards (Visa, Mastercard, American Express)\n‚Ä¢ Digital Wallets (Apple Pay, Google Pay, Microsoft Pay)\n‚Ä¢ Bank Transfers (ACH, SEPA, BACS)\n‚Ä¢ Buy Now Pay Later (Klarna, Afterpay, Clearpay)\n‚Ä¢ Local Methods (iDEAL, Bancontact, giropay)\n‚Ä¢ International Cards (JCB, UnionPay)\n\nCrypto payments (BTC, ETH, SOL) are under active development - see progress at /crypto",
  },
  // AI Agents
  {
    question: "How powerful are the AI agents?",
    answer:
      "You can build enterprise-grade agents that can:\n‚Ä¢ Handle complete sales cycles\n‚Ä¢ Generate and optimize content\n‚Ä¢ Process transactions autonomously\n‚Ä¢ Learn from customer interactions\n‚Ä¢ Operate in multiple languages\n‚Ä¢ Integrate with external systems\n‚Ä¢ Maintain context across sessions",
  },
  // Content Generation
  {
    question: "What type of content can be automated?",
    answer:
      "The content automation system handles:\n‚Ä¢ Blog posts & articles\n‚Ä¢ Social media content\n‚Ä¢ Product descriptions\n‚Ä¢ Marketing materials\n‚Ä¢ Documentation & guides\n‚Ä¢ Email campaigns\n‚Ä¢ Video scripts & podcasts\n\nAll content is SEO-optimized and maintains your brand voice.",
  },
  // Technical
  {
    question: "What's the technical architecture?",
    answer:
      "ONE is built on modern technology:\n‚Ä¢ Astro & React for frontend\n‚Ä¢ Edge-optimized runtime\n‚Ä¢ Vercel AI SDK integration\n‚Ä¢ WebSocket for real-time features\n‚Ä¢ TypeScript support\n‚Ä¢ Shadcn/UI components\n‚Ä¢ API-first architecture",
  },
  // Getting Started
  {
    question: "How do I get started?",
    answer:
      "Getting started is straightforward:\n1. Download and install using pnpm\n2. Connect your AI provider (OpenAI, Anthropic, etc.)\n3. Set up payment processing\n4. Configure your first AI agent\n5. Deploy to your preferred platform\n\nVisit https://one.ie/docs/quickstart for step-by-step guidance.",
  },
  // Customization
  {
    question: "Can I customize everything?",
    answer:
      "Yes, ONE is fully customizable:\n‚Ä¢ Create custom AI agents\n‚Ä¢ Design unique workflows\n‚Ä¢ Build custom UI components\n‚Ä¢ Set up custom payment flows\n‚Ä¢ Define business rules\n‚Ä¢ Create specialized content templates\n‚Ä¢ Implement custom authentication",
  },
];

// You can override any default values here
const chatConfig = ChatConfigSchema.parse({
  provider: "mistral",
  model: "mistral-large-latest",
  systemPrompt: [
    {
      type: "text" as const,
      text: `You are ONE's lead AI advocate, empowering users with true ownership of their AI solutions. Guide visitors through our framework that puts them in complete control - from development to deployment.

Core Benefits:
1. Complete Control & Ownership
   ‚Ä¢ Your code, your way
   ‚Ä¢ Your choice of AI providers
   ‚Ä¢ Your infrastructure
   ‚Ä¢ Your data sovereignty
   ‚Ä¢ Unlimited AI agents
   ‚Ä¢ Deploy anywhere
   ‚Ä¢ Scale infinitely

2. Zero Restrictions
   ‚Ä¢ No platform fees
   ‚Ä¢ No usage limits
   ‚Ä¢ No vendor lock-in
   ‚Ä¢ No hidden costs
   ‚Ä¢ Free commercial use
   ‚Ä¢ Free forever hosting
   ‚Ä¢ Open source freedom

3. Enterprise Capabilities
   ‚Ä¢ Custom AI training
   ‚Ä¢ Advanced integrations
   ‚Ä¢ Multi-model support
   ‚Ä¢ Real-time features
   ‚Ä¢ Global payments
   ‚Ä¢ Edge deployment
   ‚Ä¢ Full security control

4. Developer Experience
   ‚Ä¢ Modern tech stack
   ‚Ä¢ TypeScript native
   ‚Ä¢ API-first design
   ‚Ä¢ Local development
   ‚Ä¢ Fast deployment
   ‚Ä¢ Easy customization
   ‚Ä¢ Active community

Key Message:
‚Ä¢ Emphasize true ownership
‚Ä¢ Highlight zero restrictions
‚Ä¢ Focus on complete freedom
‚Ä¢ Showcase enterprise features
‚Ä¢ Demonstrate scalability
‚Ä¢ Reinforce "free forever"
‚Ä¢ Encourage exploration

Communication Style:
‚Ä¢ Clear and confident
‚Ä¢ Technically precise
‚Ä¢ Solution-focused
‚Ä¢ Empowering users
‚Ä¢ Highlighting control
‚Ä¢ Building trust
‚Ä¢ Encouraging action`,
    },
  ],
  welcome: {
    message: "üëã Hi! I'm your guide to building with ONE. Want to create AI solutions with complete ownership and zero restrictions? Let's explore how you can build anything you imagine - no limits, no fees, just pure creative freedom.",
    avatar: "/icon.svg",
    suggestions: [
      {
        label: "üéØ Show Me Everything",
        prompt: "What can I build with ONE? Show me all the possibilities!",
      },
      {
        label: "üöÄ Quick Start Guide",
        prompt: "I want to start building right away. What's the fastest way to get started?",
      },
      {
        label: "üí° Custom Solutions",
        prompt: "How can I customize ONE for my specific needs?",
      },
      {
        label: "üåê Deployment Options",
        prompt: "Where can I deploy my ONE solutions and how does scaling work?",
      },
      {
        label: "üí∞ Cost & Licensing",
        prompt: "Tell me more about ONE being free forever and the licensing terms",
      },
      {
        label: "ü§ù Join Community",
        prompt: "How can I connect with other ONE developers and contribute?",
      },
    ],
  },
});

// Set the desired right panel mode
const rightPanelMode = "half"; // You can change this to 'full', 'half', 'floating', or 'icon'
---

<Layout
  title="ONE - Own Your AI Solutions Completely Free"
  chatConfig={chatConfig}
  rightPanelMode={rightPanelMode}
>
  <section
    class="container mx-auto px-6 py-20 border-b border-neutral-800">
    <div class="w-full max-w-[1400px] mx-auto flex flex-col items-center gap-8 text-center">
      <h1 class="text-5xl sm:text-7xl md:text-8xl font-bold tracking-tight text-neutral-100">
        True <span class="text-blue-500">AI</span> <span class="text-neutral-100">Ownership</span>
      </h1>
      <div class="flex flex-col items-center gap-6 max-w-[800px]">
        <p class="text-lg sm:text-xl md:text-2xl text-neutral-400 leading-relaxed tracking-wide max-w-2xl">
          Build AI-powered solutions with complete freedom. Own your code, data, and infrastructure. Use any AI provider, deploy anywhere, and scale infinitely. Zero restrictions, zero platform fees, free forever.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="/docs/get-started" class="inline-flex items-center justify-center rounded-md bg-primary px-8 py-3 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary">
            Start Building
          </a>
          <a href="https://github.com/one-ie/one" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center rounded-md border border-input bg-background px-8 py-3 text-sm font-medium shadow-sm hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring">
            View on GitHub
          </a>
        </div>
      </div>
    </div>
  </section>
  <GitSection client:load />

  <!-- System Requirements & Installation -->
  <section class="container mx-auto px-6 py-20 border-t">
    <div class="w-full max-w-[1400px] mx-auto grid md:grid-cols-2 gap-8">
      <Card className="p-8">
        <h2 class="text-2xl font-bold mb-6">System Requirements</h2>
        <ul class="space-y-4">
          {
            SYSTEM_REQUIREMENTS.map((req) => (
              <li class="flex items-start">
                <CheckIcon className="w-5 h-5 mr-2 text-green-500 flex-shrink-0 mt-1" />
                <span>{req}</span>
              </li>
            ))
          }
        </ul>
      </Card>

      <Card className="p-8">
        <h2 class="text-2xl font-bold mb-6">Installation Guide</h2>
        <div class="space-y-6">
          {
            INSTALLATION_STEPS.map((step, index) => (
              <div class="flex items-start">
                <div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-4 flex-shrink-0">
                  <span class="font-bold text-primary">{index + 1}</span>
                </div>
                <div>
                  <h3 class="font-semibold mb-1">{step.title}</h3>
                  <p class="text-muted-foreground text-sm">
                    {step.description}
                  </p>
                </div>
              </div>
            ))
          }
        </div>
      </Card>
    </div>
  </section>

  <!-- License Section -->
  <section class="container mx-auto px-6 py-20 border-t">
    <div class="w-full max-w-[1400px] mx-auto">
      <h2 class="text-4xl font-bold mb-10 text-center">ONE Free License</h2>
      <Card className="prose prose-lg max-w-none dark:prose-invert p-8">
        <pre
          class="whitespace-pre-wrap text-sm leading-relaxed opacity-90">{License}</pre>
      </Card>
    </div>
  </section>

  <!-- FAQs -->
  <section class="container mx-auto px-6 py-20 border-t">
    <div class="w-full max-w-[1400px] mx-auto">
      <h2 class="text-4xl font-bold mb-10 text-center">
        Frequently Asked Questions
      </h2>
      <FaqAccordion client:idle faqs={faqs} />
    </div>
  </section>

  <!-- GitHub Call-to-Action -->
</Layout>

<style>
  .prose {
    @apply mx-auto;
  }

  .prose pre {
    @apply bg-muted;
  }
</style>

<script>
  // Handle copy functionality
  document.addEventListener("DOMContentLoaded", () => {
    const copyButton = document.getElementById("copyCloneCommand");
    const copyMessage = document.getElementById("copyMessage");
    const getStartedBtn = document.getElementById("getStartedBtn");

    if (copyButton && copyMessage) {
      copyButton.addEventListener("click", () => {
        navigator.clipboard.writeText(
          "git clone https://github.com/one-ie/one.git",
        );
        copyMessage.classList.remove("opacity-0");
        setTimeout(() => copyMessage.classList.add("opacity-0"), 2000);
      });
    }

    if (getStartedBtn) {
      getStartedBtn.addEventListener("click", () => {
        const installSection = document.querySelector(".container");
        if (installSection) {
          installSection.scrollIntoView({ behavior: "smooth" });
        }
      });
    }
  });
</script>
